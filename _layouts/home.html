---
layout: default
title: locklive livewallpaper
---
<div class="home">

  <ul class="post-list">
    {% for post in site.posts limit:10 %}
    <li>
      <a class="post-list-link" href="{{ post.url | prepend: site.baseurl }}">
        <div class="post-list-show-image">
          <div class="post-list-show-image-image" data-bg="{{ post.previewimage }}"></div>
        </div>
        <div class="post-list-title">{{ post.title }}</div>
          <div class="post-list-description">{{ post.description }}</div>
          <div class="post-list-info">
            <span class="post-category post-category-{{ post.category }}"></span>
            <span class="post-meta">{{ post.date | date: "%Y-%m-%d" }}</span>
          </div>
      </a>
    </li>
    {% endfor %}

    <!-- This loops through the paginated posts -->
{% for post in paginator.posts %}
<li>
  <a class="post-list-link" href="{{ post.url | prepend: site.baseurl }}">
    <div class="post-list-show-image">
      <div class="post-list-show-image-image" data-bg="{{ post.headimage }}"></div>
    </div>
    <div class="post-list-title">{{ post.title }}</div>
      <div class="post-list-description">{{ post.description }}</div>
      <div class="post-list-info">
        <span class="post-category post-category-{{ post.category }}"></span>
        <span class="post-meta">{{ post.date | date: "%Y-%m-%d" }}</span>
      </div>
  </a>
</li>
{% endfor %}


  </ul>


<!-- 分页链接 -->
 {% if paginator.total_pages > 1 %}
<div class="pagination">
  {% if paginator.previous_page %}
    <a href="{{ paginator.previous_page_path | relative_url }}">上一页</a>
  {% else %}
    <span>上一页</span>
  {% endif %}

  {% for page in (1..paginator.total_pages) %}
    {% if page == paginator.page %}
      <em>{{ page }}</em>
    {% elsif page == 1 %}
      <a href="{{ site.paginate_path | relative_url | replace: 'page-:num/', '' }}">{{ page }}</a>
    {% else %}
      <a href="{{ site.paginate_path | relative_url | replace: ':num', page }}">{{ page }}</a>
    {% endif %}
  {% endfor %}

  {% if paginator.next_page %}
    <a href="{{ paginator.next_page_path | relative_url }}">下一页</a>
  {% else %}
    <span>下一页</span>
  {% endif %}
</div>
{% endif %}


</div>
<script>
  // 检查浏览器是否支持webp
  function isSupportWebP() {
    return document.createElement('canvas').toDataURL('image/webp').indexOf('data:image/webp') == 0;
  }

  // 如果支持webp,则在img标签src上添加后缀
  const imgList = document.querySelectorAll('.post-list-show-image-image');
 var i=0;
 imgList.forEach(img => {
   let src = img.getAttribute('data-bg');
   console.log(src);
   img.style.backgroundImage = "url('" + src + "')";
   setTimeout(function(){img.style.opacity=1;},300+300*i);
   i++;
 });
</script>
